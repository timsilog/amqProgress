(this.webpackJsonpamqprogress=this.webpackJsonpamqprogress||[]).push([[0],{22:function(e,t,n){e.exports=n(39)},27:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),o=n.n(c),s=(n(27),n(10)),i=n(1),u=n(13),l=n.n(u),m=n(16),d=n(20),f=n(9),g=(n(29),function(e){return r.a.createElement("div",{className:"progress-item-container",onClick:e.onClick},r.a.createElement("div",null),r.a.createElement("div",{className:"song-name"},e.item.songId.songName),r.a.createElement("div",null,e.item.songId.anime.english),r.a.createElement("div",{className:"song-type"},e.item.songId.songType),r.a.createElement("div",{className:"accuracy"},"".concat(e.item.hits,"/").concat(e.item.hits+e.item.misses)))}),p=(n(30),function(e){return e.src?r.a.createElement("div",{id:"videoplayer"},r.a.createElement("h3",null,e.src.songId.songName),r.a.createElement("div",null,e.src.songId.anime.english),r.a.createElement("video",{controls:!0,key:e.src._id},e.src.songId.songLink.map((function(e,t){return r.a.createElement("source",{src:e,key:t})})),"No video")):r.a.createElement("video",{controls:!0},"No Video")}),v=(n(31),"http://localhost:4000/progress"),E=Object(i.g)((function(e){var t=e.match,n=Object(a.useState)([]),c=Object(f.a)(n,2),o=c[0],s=c[1],u=Object(a.useState)({}),E=Object(f.a)(u,2),h=E[0],b=E[1],j=Object(i.f)();Object(a.useEffect)((function(){var e=j.listen((function(e,t){"PUSH"===t&&s([])}));return function(){var e=Object(d.a)(l.a.mark((function e(){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"?username=").concat(t.params.username));case 2:return n=e.sent,e.next=5,n.json();case 5:if((a=e.sent.progress)&&a.length){e.next=8;break}return e.abrupt("return");case 8:b(a[0]),r=50,c=function(e){return[].concat(Object(m.a)(e),Object(m.a)(a))};case 11:if(!(a&&a.length>0)){e.next=22;break}return s(c),e.next=15,fetch("".concat(v,"?username=").concat(t.params.username,"&offset=").concat(r));case 15:return n=e.sent,e.next=18,n.json();case 18:a=e.sent.progress,r+=50,e.next=11;break;case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){e()}}),[t,j]);return o.length?r.a.createElement("div",{id:"user-page"},r.a.createElement("div",null,t.params.username),r.a.createElement("div",{className:"songs-container"},r.a.createElement("div",{className:"progress-item-list-container"},o.map((function(e,t){return r.a.createElement(g,{item:e,key:e._id,onClick:function(){return function(e){b(o[e])}(t)}})}))),r.a.createElement(p,{src:h||{}}))):r.a.createElement("div",{id:"user-page"},"This user doesn't have any progress")})),h=(n(37),Object(i.g)((function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],c=t[1],o=Object(i.f)();return r.a.createElement("nav",{id:"navbar"},"Search for user:",r.a.createElement("form",{onChange:function(e){return c(e.target.value)},onSubmit:function(e){o.push("/".concat(n))}},r.a.createElement("input",{type:"text"})))}))),b=(n(38),function(){return r.a.createElement("div",null,r.a.createElement(s.a,{basename:"/"},r.a.createElement(h,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,render:function(){return r.a.createElement("div",null,"Home page")}}),r.a.createElement(i.a,{path:"/:username",component:E}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.3eedc7a7.chunk.js.map