(this.webpackJsonpamqprogress=this.webpackJsonpamqprogress||[]).push([[0],{22:function(e,n,t){e.exports=t(39)},27:function(e,n,t){},29:function(e,n,t){},30:function(e,n,t){},31:function(e,n,t){},37:function(e,n,t){},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(19),o=t.n(c),s=(t(27),t(10)),i=t(1),u=t(13),l=t.n(u),m=t(16),d=t(20),f=t(9),E=(t(29),function(e){return r.a.createElement("div",{className:"progress-item-container",onClick:e.onClick},r.a.createElement("div",null),r.a.createElement("div",{className:"song-name"},e.item.songId.songName),r.a.createElement("div",null,e.item.songId.anime.english),r.a.createElement("div",{className:"song-type"},e.item.songId.songType),r.a.createElement("div",{className:"accuracy"},"".concat(e.item.hits,"/").concat(e.item.hits+e.item.misses)))}),g=(t(30),function(e){return e.src?r.a.createElement("div",{id:"videoplayer"},r.a.createElement("h3",null,e.src.songId.songName),r.a.createElement("div",null,e.src.songId.anime.english),r.a.createElement("video",{controls:!0,key:e.src._id},e.src.songId.songLink.map((function(e,n){return r.a.createElement("source",{src:e,key:n})})),"No video")):r.a.createElement("video",{controls:!0},"No Video")}),p=(t(31),Object({NODE_ENV:"production",PUBLIC_URL:"/amqprogress",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).API_URL_PROGRESS),v=Object(i.g)((function(e){var n=e.match,t=Object(a.useState)([]),c=Object(f.a)(t,2),o=c[0],s=c[1],u=Object(a.useState)({}),v=Object(f.a)(u,2),h=v[0],b=v[1],O=Object(i.f)();Object(a.useEffect)((function(){var e=O.listen((function(e,n){"PUSH"===n&&s([])}));return function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p,"?username=").concat(n.params.username));case 2:return t=e.sent,e.next=5,t.json();case 5:if((a=e.sent.progress)&&a.length){e.next=8;break}return e.abrupt("return");case 8:b(a[0]),r=50,c=function(e){return[].concat(Object(m.a)(e),Object(m.a)(a))};case 11:if(!(a&&a.length>0)){e.next=22;break}return s(c),e.next=15,fetch("".concat(p,"?username=").concat(n.params.username,"&offset=").concat(r));case 15:return t=e.sent,e.next=18,t.json();case 18:a=e.sent.progress,r+=50,e.next=11;break;case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){e()}}),[n,O]);return o.length?r.a.createElement("div",{id:"user-page"},r.a.createElement("div",null,n.params.username),r.a.createElement("div",{className:"songs-container"},r.a.createElement("div",{className:"progress-item-list-container"},o.map((function(e,n){return r.a.createElement(E,{item:e,key:e._id,onClick:function(){return function(e){b(o[e])}(n)}})}))),r.a.createElement(g,{src:h||{}}))):r.a.createElement("div",{id:"user-page"},"This user doesn't have any progress")})),h=(t(37),Object(i.g)((function(){var e=Object(a.useState)(""),n=Object(f.a)(e,2),t=n[0],c=n[1],o=Object(i.f)();return r.a.createElement("nav",{id:"navbar"},"Search for user:",r.a.createElement("form",{onChange:function(e){return c(e.target.value)},onSubmit:function(e){o.push("/".concat(t))}},r.a.createElement("input",{type:"text"})))}))),b=(t(38),function(){return r.a.createElement("div",null,r.a.createElement(s.a,{basename:"/"},r.a.createElement(h,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,render:function(){return r.a.createElement("div",null,"Home page")}}),r.a.createElement(i.a,{path:"/:username",component:v}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.e8c632f2.chunk.js.map